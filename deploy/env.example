# Appointment360 FastAPI Backend - Environment Variables Template
# Copy this file to .env in the project root and fill in your production values
# DO NOT commit .env file to version control

# ============================================
# Project Configuration
# ============================================
ENVIRONMENT=production
DEBUG=false
PROJECT_NAME=Appointment360 API
VERSION=0.1.0

# ============================================
# Database Configuration (PostgreSQL)
# ============================================
# Option 1: Use individual components
POSTGRES_USER=postgres
POSTGRES_PASS=your-database-password
POSTGRES_HOST=your-database-host
POSTGRES_PORT=5432
POSTGRES_DB=appointment360

# Option 2: Use full DATABASE_URL (overrides individual components)
# DATABASE_URL=postgresql+asyncpg://user:password@host:port/database

# Database Connection Pool Settings
DATABASE_POOL_SIZE=25
DATABASE_MAX_OVERFLOW=50
DATABASE_POOL_TIMEOUT=30
DATABASE_POOL_RECYCLE=1800
DATABASE_POOL_PRE_PING=true
ENABLE_POOL_MONITORING=true
POOL_MONITORING_INTERVAL=60

# Optional: Read Replica Database (for read operations)
# DATABASE_REPLICA_URL=postgresql+asyncpg://user:password@replica-host:5432/database
# USE_REPLICA=false

# ============================================
# Security Configuration
# ============================================
# IMPORTANT: Change this to a strong random secret key in production!
SECRET_KEY=change-me-in-production-generate-strong-random-key
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_DAYS=7
ALGORITHM=HS256

# ============================================
# CORS and Trusted Hosts
# ============================================
# Base URL for generating full URLs (e.g., avatar URLs)
BASE_URL=http://34.229.94.175

# Trusted hosts (comma-separated)
# Note: Middleware extracts hostname without port, so include both with and without port for clarity
# Example: "34.229.94.175:8000" â†’ extracts "34.229.94.175", so "34.229.94.175" must be in the list
TRUSTED_HOSTS=127.0.0.1,localhost,3.95.58.90,testserver,34.229.94.175,34.229.94.175:8000,34.229.94.175,34.229.94.175:8000

# Allowed origins (comma-separated URLs)
# ALLOWED_ORIGINS=http://34.229.94.175,http://localhost:3000

# ============================================
# Logging Configuration
# ============================================
LOG_LEVEL=INFO
LOG_FILE_PATH=logs/app.log
LOG_MAX_BYTES=10485760
LOG_BACKUP_COUNT=5
LOG_FORMAT=json
LOG_TO_CONSOLE=true

# ============================================
# File Upload Configuration
# ============================================
UPLOAD_DIR=./uploads
MEDIA_URL=/media

# ============================================
# AWS S3 Configuration (Optional)
# ============================================
# If using S3 for file storage, configure these:
# AWS_ACCESS_KEY_ID=your-aws-access-key
# AWS_SECRET_ACCESS_KEY=your-aws-secret-key
# AWS_REGION=us-east-1
# S3_BUCKET_NAME=your-s3-bucket-name
# S3_V3_BUCKET_NAME=tkdrawcsvdata
# S3_AVATARS_PREFIX=avatars/
# S3_EXPORTS_PREFIX=exports/
# S3_UPLOAD_PREFIX=uploads/
# S3_USE_PRESIGNED_URLS=true
# S3_PRESIGNED_URL_EXPIRATION=3600
# S3_MULTIPART_CHUNK_SIZE=104857600
# S3_MULTIPART_MAX_FILE_SIZE=10737418240
# S3_MULTIPART_URL_EXPIRATION=3600
# UPLOAD_SESSION_TTL=86400

# ============================================
# External API Keys
# ============================================

# Google Gemini AI
# GEMINI_API_KEY=your-gemini-api-key

# BulkMailVerifier
# BULKMAILVERIFIER_EMAIL=your-email@example.com
# BULKMAILVERIFIER_PASSWORD=your-password
# BULKMAILVERIFIER_BASE_URL=https://app.bulkmailverifier.com

# Truelist
# TRUELIST_API_KEY=your-truelist-api-key
# TRUELIST_BASE_URL=https://app.truelist.io

# IcyPeas
# ICYPEAS_API_KEY=your-icypeas-api-key
# ICYPEAS_BASE_URL=https://app.icypeas.com/api

# ============================================
# Connectra VQL Service Configuration
# ============================================
CONNECTRA_BASE_URL=http://18.234.210.191:8000
CONNECTRA_API_KEY=3e6b8811-40c2-46e7-8d7c-e7e038e86071
CONNECTRA_TIMEOUT=30
CONNECTRA_RETRY_ATTEMPTS=3
CONNECTRA_RETRY_DELAY=1.0

# ============================================
# MongoDB Configuration
# ============================================
MONGODB_URI=mongodb://admin:password@host:27017
MONGODB_DB_NAME=appointment360

# ============================================
# Redis Configuration (Optional)
# ============================================
# Enable Redis for distributed caching
# REDIS_URL=redis://localhost:6379/0
# ENABLE_REDIS_CACHE=false

# ============================================
# Performance and Caching Configuration
# ============================================

# Query Caching
ENABLE_QUERY_CACHING=true
QUERY_CACHE_TTL=300
ENABLE_QUERY_MONITORING=true
SLOW_QUERY_THRESHOLD=1.0

# Response Compression
ENABLE_RESPONSE_COMPRESSION=true
COMPRESSION_MIN_SIZE=1000

# Streaming Configuration
ENABLE_STREAMING_QUERIES=true
STREAMING_CHUNK_SIZE=1048576
STREAMING_BATCH_SIZE=1000
# MAX_STREAMING_RESULTS=

# File Upload Configuration
MAX_UPLOAD_CHUNK_SIZE=1048576
# MAX_UPLOAD_SIZE=

# Parallel Processing
ENABLE_PARALLEL_PROCESSING=true
PARALLEL_PROCESSING_WORKERS=4
PARALLEL_PROCESSING_MAX_WORKERS=8

# Background Tasks
MAX_CONCURRENT_BACKGROUND_TASKS=10
BACKGROUND_TASK_TIMEOUT=30.0

# In-Memory Caching
CACHE_MAX_SIZE=1000
ENABLE_CACHE_WARMING=false
# CACHE_WARMING_QUERIES=

# HTTP Cache
ENABLE_HTTP_CACHE=true
HTTP_CACHE_MAX_AGE=300
HTTP_CACHE_PUBLIC=true
HTTP_CACHE_MUST_REVALIDATE=false
HTTP_CACHE_STATIC_MAX_AGE=31536000
HTTP_CACHE_API_MAX_AGE=300

# ============================================
# Pagination Configuration
# ============================================
DEFAULT_PAGE_SIZE=100
MAX_PAGE_SIZE=1000

# ============================================
# API Configuration
# ============================================
# API version prefixes (usually don't need to change)
# API_V1_PREFIX=/api/v1
# API_V2_PREFIX=/api/v2
# API_V3_PREFIX=/api/v3
# API_V4_PREFIX=/api/v4

# API Documentation (set to null to disable in production)
# DOCS_URL=/docs
# REDOC_URL=/redoc

# ============================================
# Proxy Configuration
# ============================================
USE_PROXY_HEADERS=true
FORWARDED_ALLOW_IPS=*
ROOT_PATH=

